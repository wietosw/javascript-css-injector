(function(){var e={554:function(){let{Component:e}=Shopware;e.extend("sw-commerce-javascript-css-injector-create","sw-commerce-javascript-css-injector-detail",{data(){return{canEdit:!0,isNew:!0}},methods:{async getCodeSnippet(){this.codeSnippet=this.repository.create(Shopware.Context.api)},onClickSave(){return this.isLoading=!0,this.repository.save(this.codeSnippet,Shopware.Context.api).then(()=>{this.isLoading=!1,this.$router.push({name:"sw.commerce.javascript.css.injector.detail",params:{id:this.codeSnippet.id}}),this.createNotificationSuccess({message:this.$tc("swcommerce-javascript-css-injector.notification.saveSuccess")})}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:this.$tc("swcommerce-javascript-css-injector.notification.saveError"),message:e})})}}})}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,s),i.exports}s.p="bundles/swcommercejavascriptcssinjector/",window?.__sw__?.assetPath&&(s.p=window.__sw__.assetPath+"/bundles/swcommercejavascriptcssinjector/"),function(){"use strict";var e=JSON.parse('{"swcommerce-javascript-css-injector":{"general":{"title":"Code snippets","search":"Search for snippet...","header":"Code snippets","menuTitle":"Additional js/css code snippets"},"columns":{"nameLabel":"Name","activeLabel":"Active","createdAtLabel":"Created at","salesChannelsLabel":"Applied for sales channels","renderPages":"Render on pages"},"helpText":{"renderPages":"Input pages where you want to inject above code snippets, if left blank, then all pages will be affected for selected sales channels.","renderOnAll":"All","activeFrom":"If no date is specified, it\'s valid indefinitely"},"label":{"active":"Active","name":"Name","salesChannels":"Sales channels","description":"Description","css":"CSS/SCSS","js":"Javascript","renderPages":"Endpoints to inject code snippets","activeFrom":"Active from","activeTo":"Active until"},"placeholder":{"name":"Enter name...","salesChannels":"Choose sales channels...","description":"Enter description...","renderPages":"Endpoints to inject code snippets","renderPagesAddData":"Enter custom routes...","renderPagesValidData":"detail, account, login...","activeFrom":"Active from","activeTo":"Active until"},"button":{"addCodeSnippets":"Add new","cancel":"Cancel","save":"Save"},"notification":{"saveSuccess":"Saved successfully","saveError":"Error occured..."}},"global":{"entities":{"sw_commerce_code_snippet":"Code snippets"}}}'),t=JSON.parse('{"swcommerce-javascript-css-injector":{"general":{"title":"Code-Snippets","search":"Nach Snippet suchen...","header":"Code-Snippets","menuTitle":"Zus\xe4tzliche JS/CSS-Code-Snippets"},"columns":{"nameLabel":"Name","activeLabel":"Aktiv","createdAtLabel":"Erstellt am","salesChannelsLabel":"Angewendet auf Verkaufskan\xe4le","renderPages":"Auf Seiten rendern"},"helpText":{"renderPages":"Gib Seiten ein, auf denen der obige Code eingef\xfcgt werden soll. Wenn leer, wird der Code auf allen Seiten f\xfcr die ausgew\xe4hlten Verkaufskan\xe4le eingef\xfcgt.","renderOnAll":"Alle","activeFrom":"Wenn kein Datum angegeben ist, gilt es dauerhaft"},"label":{"active":"Aktiv","name":"Name","salesChannels":"Verkaufskan\xe4le","description":"Beschreibung","css":"CSS/SCSS","js":"JavaScript","renderPages":"Endpunkte zum Einf\xfcgen von Code-Snippets","activeFrom":"Aktiv ab","activeTo":"Aktiv bis"},"placeholder":{"name":"Name eingeben...","salesChannels":"Verkaufskan\xe4le ausw\xe4hlen...","description":"Beschreibung eingeben...","renderPages":"Endpunkte zum Einf\xfcgen von Code-Snippets","renderPagesAddData":"Benutzerdefinierte Routen eingeben...","renderPagesValidData":"detail, account, login...","activeFrom":"Aktiv ab","activeTo":"Aktiv bis"},"button":{"addCodeSnippets":"Neu hinzuf\xfcgen","cancel":"Abbrechen","save":"Speichern"},"notification":{"saveSuccess":"Erfolgreich gespeichert","saveError":"Fehler aufgetreten..."}},"global":{"entities":{"sw_commerce_code_snippet":"Code-Snippets"}}}'),a=JSON.parse('{"swcommerce-javascript-css-injector":{"general":{"title":"Extraits de code","search":"Rechercher un extrait...","header":"Extraits de code","menuTitle":"Extraits de code JS/CSS suppl\xe9mentaires"},"columns":{"nameLabel":"Nom","activeLabel":"Actif","createdAtLabel":"Cr\xe9\xe9 le","salesChannelsLabel":"Appliqu\xe9 aux canaux de vente","renderPages":"Afficher sur les pages"},"helpText":{"renderPages":"Saisissez les pages o\xf9 vous souhaitez injecter les extraits de code ci-dessus. Si ce champ est vide, le code sera inject\xe9 sur toutes les pages des canaux de vente s\xe9lectionn\xe9s.","renderOnAll":"Toutes","activeFrom":"S\'il n\'y a pas de date sp\xe9cifi\xe9e, l\'extrait sera actif tout le temps"},"label":{"active":"Actif","name":"Nom","salesChannels":"Canaux de vente","description":"Description","css":"CSS/SCSS","js":"JavaScript","renderPages":"Points de terminaison pour injecter les extraits","activeFrom":"Actif \xe0 partir du","activeTo":"Actif jusqu\'au"},"placeholder":{"name":"Saisir le nom...","salesChannels":"Choisir les canaux de vente...","description":"Saisir une description...","renderPages":"Points de terminaison pour injecter les extraits","renderPagesAddData":"Saisir des routes personnalis\xe9es...","renderPagesValidData":"detail, account, login...","activeFrom":"Actif \xe0 partir du","activeTo":"Actif jusqu\'au"},"button":{"addCodeSnippets":"Ajouter un nouvel extrait","cancel":"Annuler","save":"Enregistrer"},"notification":{"saveSuccess":"Enregistr\xe9 avec succ\xe8s","saveError":"Une erreur est survenue..."}},"global":{"entities":{"sw_commerce_code_snippet":"Extraits de code"}}}'),n=JSON.parse('{"swcommerce-javascript-css-injector":{"general":{"title":"Frammenti di codice","search":"Cerca frammento...","header":"Frammenti di codice","menuTitle":"Frammenti di codice JS/CSS aggiuntivi"},"columns":{"nameLabel":"Nome","activeLabel":"Attivo","createdAtLabel":"Creato il","salesChannelsLabel":"Applicato ai canali di vendita","renderPages":"Visualizza sulle pagine"},"helpText":{"renderPages":"Inserisci le pagine su cui vuoi iniettare i frammenti di codice sopra indicati; se lasciato vuoto, il codice verr\xe0 applicato a tutte le pagine per i canali di vendita selezionati.","renderOnAll":"Tutti","activeFrom":"Se non \xe8 specificata alcuna data, sar\xe0 applicato sempre"},"label":{"active":"Attivo","name":"Nome","salesChannels":"Canali di vendita","description":"Descrizione","css":"CSS/SCSS","js":"JavaScript","renderPages":"Endpoint per inserire i frammenti di codice","activeFrom":"Attivo da","activeTo":"Attivo fino a"},"placeholder":{"name":"Inserisci nome...","salesChannels":"Scegli canali di vendita...","description":"Inserisci descrizione...","renderPages":"Endpoint per inserire i frammenti di codice","renderPagesAddData":"Inserisci percorsi personalizzati...","renderPagesValidData":"detail, account, login...","activeFrom":"Attivo da","activeTo":"Attivo fino a"},"button":{"addCodeSnippets":"Aggiungi nuovo","cancel":"Annulla","save":"Salva"},"notification":{"saveSuccess":"Salvato con successo","saveError":"Errore durante il salvataggio..."}},"global":{"entities":{"sw_commerce_code_snippet":"Frammenti di codice"}}}');let{Component:i,Mixin:c}=Shopware,{Criteria:r}=Shopware.Data;i.register("sw-commerce-javascript-css-injector-list",{template:'{% block sw_commerce_javascript_css_injector_list %}\n    <sw-page class="sw-commerce-javascript-css-injector-list">\n        {% block sw_commerce_javascript_css_injector_list_smart_bar_header %}\n            <template #search-bar>\n                {% block sw_commerce_javascript_css_injector_list_smart_bar_search_bar %}\n                    <sw-search-bar\n                            initial-search-type="sw_commerce_code_snippet"\n                            :initial-search="term"\n                            :placeholder="$tc(\'swcommerce-javascript-css-injector.general.search\')"\n                            @search="onSearch"\n                    />\n                {% endblock %}\n            </template>\n\n            <template #smart-bar-header>\n                <h2>{{ $tc(\'swcommerce-javascript-css-injector.general.header\') }}\n                    <span class="sw-page__smart-bar-amount">\n                    ({{ total }})\n                </span>\n                </h2>\n            </template>\n        {% endblock %}\n\n        {% block sw_commerce_javascript_css_injector_list_smart_bar_actions %}\n            <template #smart-bar-actions>\n                <sw-button\n                        variant="primary"\n                        :routerLink="{ name: \'sw.commerce.javascript.css.injector.create\' }"\n                >\n                    {{ $t(\'swcommerce-javascript-css-injector.button.addCodeSnippets\') }}\n                </sw-button>\n            </template>\n        {% endblock %}\n\n        <template #content>\n            {% block sw_commerce_javascript_css_injector_list_content %}\n                <sw-entity-listing\n                        v-if="isLoading || (codeSnippets && entitySearchable)"\n                        :items="codeSnippets"\n                        :repository="codeSnippetRepository"\n                        :columns="columns"\n                        detailRoute="sw.commerce.javascript.css.injector.detail"\n                        :is-loading="isLoading"\n                        full-page\n                        disable-data-fetching\n                        show-selection\n                        @selection-change="updateSelection"\n                        @update-records="updateRecords"\n                        @column-sort="onSortColumn"\n                        @page-change="onPageChange"\n                >\n\n                    {% block sw_commerce_javascript_css_injector_list_grid_columns %}\n                        {% block sw_commerce_javascript_css_injector_list_grid_columns_name %}\n                            <template #column-name="{ item }">\n                                <a @click="handeClickDetail(item)">\n                                    {{ item.name }}\n                                </a>\n                            </template>\n                        {% endblock %}\n\n                        {% block sw_commerce_javascript_css_injector_list_grid_columns_active %}\n                            <template #column-active="{ item }">\n                                <sw-data-grid-column-boolean\n                                        :value="item.active"\n                                        :isInlineEdit="false">\n                                </sw-data-grid-column-boolean>\n                            </template>\n                        {% endblock %}\n\n                        {% block sw_commerce_javascript_css_injector_list_grid_columns_render_pages %}\n                            <template #column-renderPages="{ item }">\n                                <div v-if="item.renderPages.length">\n                                    <sw-label\n                                            v-for="renderPage in item.renderPages"\n                                            :key="renderPage">\n                                        {{ renderPage }}\n                                    </sw-label>\n                                </div>\n                                <span v-else>\n                                    {{ $tc(\'swcommerce-javascript-css-injector.helpText.renderOnAll\') }}\n                                </span>\n                            </template>\n                        {% endblock %}\n\n                        {% block sw_commerce_javascript_css_injector_list_grid_columns_created_at %}\n                            <template #column-createdAt="{ item }">\n                                {{ dateFilter(item.createdAt) }}\n                            </template>\n                        {% endblock %}\n\n                        {% block sw_commerce_javascript_css_injector_list_grid_columns_sales_channel %}\n                            <template #column-salesChannels="{ item }">\n                                <div v-if="item.salesChannels.length">\n                                    <sw-label\n                                            v-for="salesChannel in item.salesChannels"\n                                            :key="salesChannel.id">\n                                        {{ salesChannel.translated.name || salesChannel.name }}\n                                    </sw-label>\n                                </div>\n                                <span v-else>\n                                    ---\n                                </span>\n                            </template>\n                        {% endblock %}\n                    {% endblock %}\n                </sw-entity-listing>\n\n                <template v-if="!isLoading && !total">\n                    <sw-empty-state\n                            v-if="isValidTerm(term)"\n                            :title="$tc(\'sw-empty-state.messageNoResultTitle\')"\n                    >\n                        <template #icon>\n                            <img\n                                    :src="assetFilter(\'/administration/static/img/empty-states/order-empty-state.svg\')"\n                                    :alt="$tc(\'sw-empty-state.messageNoResultTitle\')"\n                            >\n                        </template>\n\n                        <template #default>\n                            {{ $tc(\'sw-empty-state.messageNoResultSublineBefore\') }}\n                            <router-link\n                                    class="sw-empty-state__description-link"\n                                    :to="{ name: \'sw.profile.index.searchPreferences\' }"\n                            >\n                                {{ $tc(\'sw-empty-state.messageNoResultSublineLink\') }}\n                            </router-link>\n                            {{ $tc(\'sw-empty-state.messageNoResultSublineAfter\') }}\n                        </template>\n                    </sw-empty-state>\n\n                    <sw-empty-state\n                            v-else\n                            :title="$tc(\'sw-empty-state.messageNoResultTitle\')"\n                    >\n                        <template #icon>\n                            <img\n                                    :src="assetFilter(\'/administration/static/img/empty-states/order-empty-state.svg\')"\n                                    :alt="$tc(\'sw-empty-state.messageNoResultTitle\')"\n                            >\n                        </template>\n                    </sw-empty-state>\n                </template>\n            {% endblock %}\n        </template>\n    </sw-page>\n{% endblock %}',inject:["repositoryFactory","context","themeService"],mixins:[c.getByName("listing")],data(){return{codeSnippets:null,isLoading:!1,searchConfigEntity:"sw_commerce_code_snippet",total:0}},metaInfo(){return{title:this.$createTitle()}},computed:{dateFilter(){return Shopware.Filter.getByName("date")},assetFilter(){return Shopware.Filter.getByName("asset")},salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},codeSnippetRepository(){return this.repositoryFactory.create("sw_commerce_code_snippet")},columns(){return this.getColumns()},criteria(){let e=new r(this.page,this.limit);return this.term&&e.setTerm(this.term),e.addAssociation("salesChannels"),e.addSorting(r.sort("createdAt","DESC",!1)),e}},methods:{updateRecords(e){this.codeSnippets=e,this.total=e.total||0},getColumns(){return[{property:"name",dataIndex:"name",label:this.$t("swcommerce-javascript-css-injector.columns.nameLabel"),primary:!0},{property:"active",label:this.$t("swcommerce-javascript-css-injector.columns.activeLabel")},{property:"salesChannels",label:this.$t("swcommerce-javascript-css-injector.columns.salesChannelsLabel"),sortable:!1},{property:"renderPages",label:this.$t("swcommerce-javascript-css-injector.columns.renderPages"),sortable:!1},{property:"createdAt",label:this.$t("swcommerce-javascript-css-injector.columns.createdAtLabel")}]},async getList(){this.isLoading=!0;let e=this.criteria,t=await this.addQueryScores(this.term,e);if(!this.entitySearchable){this.isLoading=!1,this.total=0;return}this.freshSearchTerm&&t.resetSorting();try{let e=await this.codeSnippetRepository.search(t);this.total=e.total||0,this.codeSnippets=e,this.selection={}}catch{this.createNotificationError({message:this.$tc("global.notification.unspecifiedSaveErrorMessage")})}finally{this.isLoading=!1}},async handeClickDetail(e){this.$router.push({name:"sw.commerce.javascript.css.injector.detail",params:{id:e.id}})}}});let{Component:o,Mixin:l,Filter:p}=Shopware,{mapPropertyErrors:m}=Shopware.Component.getComponentHelper(),{Criteria:d}=Shopware.Data;o.register("sw-commerce-javascript-css-injector-detail",{template:'{% block sw_commerce_javascript_css_injector_detail %}\n    <sw-page class="sw-commerce-javascript-css-injector-detail">\n        <template #smart-bar-actions>\n            <sw-button :routerLink="{ name: \'sw.commerce.javascript.css.injector.list\' }">\n                {{ $tc(\'swcommerce-javascript-css-injector.button.cancel\') }}\n            </sw-button>\n\n            <sw-button-process\n                    v-if="codeSnippet"\n                    :isLoading="isLoading"\n                    variant="primary"\n                    @process-finish="saveFinish"\n                    @click="onClickSave">\n                {{ $tc(\'swcommerce-javascript-css-injector.button.save\') }}\n            </sw-button-process>\n        </template>\n\n        <template #content>\n            <sw-card-view>\n                <sw-card v-if="codeSnippet" :isLoading="isLoading">\n\n                    <sw-checkbox-field\n                            :label="$tc(\'swcommerce-javascript-css-injector.label.active\')"\n                            v-model:value="codeSnippet.active">\n                    </sw-checkbox-field>\n\n                    <sw-container\n                            columns="repeat(auto-fit, minmax(150px, 1fr))"\n                            gap="15px"\n                    >\n                        <sw-text-field\n                                :label="$tc(\'swcommerce-javascript-css-injector.label.name\')"\n                                :placeholder="$tc(\'swcommerce-javascript-css-injector.placeholder.name\')"\n                                v-model:value="codeSnippet.name"\n                                validation="required"\n                                :error="moduleNameError"\n                                required>\n                        </sw-text-field>\n\n                        <sw-entity-many-to-many-select\n                                :localMode="codeSnippet.isNew()"\n                                :label="$tc(\'swcommerce-javascript-css-injector.label.salesChannels\')"\n                                :placeholder="$tc(\'swcommerce-javascript-css-injector.placeholder.salesChannels\')"\n                                v-model:entityCollection="codeSnippet.salesChannels">\n                        </sw-entity-many-to-many-select>\n                    </sw-container>\n\n                    <sw-textarea-field\n                            :label="$tc(\'swcommerce-javascript-css-injector.label.description\')"\n                            :placeholder="$tc(\'swcommerce-javascript-css-injector.placeholder.description\')"\n                            v-model:value="codeSnippet.description"\n                    />\n\n                    <sw-multi-tag-select\n                            :label="$tc(\'swcommerce-javascript-css-injector.label.renderPages\')"\n                            v-model:value="codeSnippet.renderPages"\n                            :help-text="$tc(\'swcommerce-javascript-css-injector.helpText.renderPages\')"\n                            class="sw-order-user-card__tracking-code-select"\n                            :placeholder="$tc(\'swcommerce-javascript-css-injector.placeholder.renderPages\')"\n                            @update:value="emitChange"\n                    >\n                        <template #message-add-data>\n                            <span>{{ $tc(\'swcommerce-javascript-css-injector.placeholder.renderPagesAddData\') }}</span>\n                        </template>\n                        <template #message-enter-valid-data>\n                            <span>{{ $tc(\'swcommerce-javascript-css-injector.placeholder.renderPagesValidData\') }}</span>\n                        </template>\n                    </sw-multi-tag-select>\n\n                    <sw-container\n                            columns="repeat(auto-fit, minmax(150px, 1fr))"\n                            gap="15px"\n                    >\n\n                        <sw-datepicker\n                                v-model:value="codeSnippet.activeFrom"\n                                date-type="datetime"\n                                :help-text="$tc(\'swcommerce-javascript-css-injector.helpText.activeFrom\')"\n                                :placeholder="$tc(\'swcommerce-javascript-css-injector.placeholder.activeFrom\')"\n                                :label="$tc(\'swcommerce-javascript-css-injector.label.activeFrom\')"\n                        />\n\n                        <sw-datepicker\n                                v-model:value="codeSnippet.activeTo"\n                                date-type="datetime"\n                                :placeholder="$tc(\'swcommerce-javascript-css-injector.placeholder.activeTo\')"\n                                :label="$tc(\'swcommerce-javascript-css-injector.label.activeTo\')"\n                        />\n\n                    </sw-container>\n\n                    <sw-code-editor\n                            :label="$tc(\'swcommerce-javascript-css-injector.label.css\')"\n                            name="css"\n                            identifier="value"\n                            completionMode="entity"\n                            v-model:value="codeSnippet.css">\n                    </sw-code-editor>\n\n                    <sw-code-editor\n                            :label="$tc(\'swcommerce-javascript-css-injector.label.js\')"\n                            name="js"\n                            identifier="value"\n                            completionMode="entity"\n                            v-model:value="codeSnippet.js">\n                    </sw-code-editor>\n                </sw-card>\n            </sw-card-view>\n        </template>\n    </sw-page>\n{% endblock %}',inject:["repositoryFactory","context","acl","themeService"],mixins:[l.getByName("notification")],metaInfo(){return{title:this.$createTitle()}},data(){return{codeSnippet:null,isLoading:!1,trackingCodes:[]}},computed:{...m("codeSnippet",["name"]),salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},repository(){return this.repositoryFactory.create("sw_commerce_code_snippet")}},created(){this.createdComponent()},methods:{async createdComponent(){this.getCodeSnippet()},async getCodeSnippet(){try{this.codeSnippet=await this.repository.get(this.$route.params.id,Shopware.Context.api)}catch(e){this.createNotificationError({title:this.$tc("swcommerce-javascript-css-injector.notification.saveError"),message:e})}},onClickSave(){return this.isLoading=!0,this.repository.save(this.codeSnippet,Shopware.Context.api).then(()=>{this.getCodeSnippet(),this.createNotificationSuccess({message:this.$tc("swcommerce-javascript-css-injector.notification.saveSuccess")}),this.isLoading=!1}).catch(e=>{this.isLoading=!1,this.codeSnippet.name&&this.codeSnippet.name.length&&this.createNotificationError({title:this.$tc("swcommerce-javascript-css-injector.notification.saveError"),message:e})})}}}),s(554);let{Module:v}=Shopware;Shopware.Service("searchTypeService")?.upsertType("sw_commerce_code_snippet",{entityName:"sw_commerce_code_snippet",placeholderSnippet:"sw.commerce.javascript.css.injector.list",listingRoute:"sw.commerce.javascript.css.injector.list"}),v.register("sw-commerce-javascript-css-injector",{type:"plugin",name:"JS/CSS Injector",entity:"sw_commerce_code_snippet",color:"#54c2ff",icon:"regular-shopping-bag",title:"swcommerce-javascript-css-injector.general.title",description:"Manage custom Javascript and CSS injections.",snippets:{"en-GB":e,"de-DE":t,"fr-FR":a,"it-IT":n},routes:{list:{component:"sw-commerce-javascript-css-injector-list",path:"list"},detail:{component:"sw-commerce-javascript-css-injector-detail",path:"detail/:id",meta:{parentPath:"sw.commerce.javascript.css.injector.list"}},create:{component:"sw-commerce-javascript-css-injector-create",path:"create",meta:{parentPath:"sw.commerce.javascript.css.injector.list"}}},navigation:[{label:"swcommerce-javascript-css-injector.general.menuTitle",id:"sw-commerce-javascript-css-injector-index",path:"sw.commerce.javascript.css.injector.list",parent:"sw-content",position:110}],defaultSearchConfiguration:{_searchable:!0,name:{_searchable:!0,_score:500},css:{_searchable:!0,_score:500},js:{_searchable:!0,_score:500}}})}()})();